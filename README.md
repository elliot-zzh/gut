# Gut

```
     ____________________/  \       ______             _
    /   ____________________/      / _____\   _    _  | |___
    \____________________   \     | |     _  | |  | | |  ___|
    /   ____________________/     | |____| | | |__| | | |___
    \____________________   \      \/____//   \_\___| |_|__/
     /  ____________________/
     \  /
```

_What a 'git' needs is just its gut!_

A CLI tool that wraps the Git version controller, providing smart subcommand inference, commit message formatting, config-driven hooks, and convenient shortcuts.

## Getting Started

### Installation

First you must have Git and Rust toolchain installed. Then just run the following to build from source:

```bash
git clone https://github.com/elliot-zzh/gut
cd gut
cargo install --path .
```

### Basic Usage

Just replace all your `git` with `gut`! Gut will automatically handle your typos / abbr command.

`gut commit` is one of the modified command: you don't need to add `-m` since the last argument will be treated as the commit message. Also conventional commits such as `feat: xxx` will automatically have emojis added.

For other modified commands refer to below. But most of the git commands are just with typo / abbr inference.

## Full Features

- Automatically infer git subcommands from short abbreviations or typos
- `gut commit` takes the last argument as the commit message, so you don't need the `-m` anymore
- Automatically format commit messages: write `feat:xxx` or `feat(scope):xxx` and gut converts it to `feat: <emoji>  xxx` or `feat(scope): <emoji> xxx`
- Supports many conventional commit types (feat, fix, docs, refactor, test, chore, build, style, ci, perf, revert) and custom types via config
- Supports commit message formatting modes: `upper_case`/`lower_case` (configurable)
- Supports custom emoji mapping for commit types ("footer") via `gut.config.json`
- Create a repo via a 'template' (clone a repo, delete .git, re-init)
- `gut branch` auto-switches to the created branch
- `gut log` outputs a dense, configurable log (default: latest 10, short id + message, info level configurable)
- `gut rlog` outputs a reversed log, following `log` config
- `gut tlog` outputs a tree log: latest N commits from all branches, current branch ranked first, dense or detailed (configurable)
- Configurable global git hooks via `gut.config.json` (auto-generated in `.git/hooks`)
- Other commands not changed by gut are passed directly to git with only typo /abbr inference.

## Configuration (`gut.config.json`)

- `hooks`: List of git hooks to auto-generate
- `log`/`tlog`: Configure log count and info level (`less`/`more`) for the `log` & `tlog` commands.
- `commit`: Configure commit message formatting mode, custom emoji mapping for commit types (footer), enable/disable emoji, and require conventional commit style

Example:

```json
{
  "commit": {
    "format_mode": "upper_case", // other formating mode. also try `lowe_case`!
    "emoji_enabled": true, // only work when using conventional commit
    "require_conventional": false,
    "emoji_mapping": { // customize emojis with conventional commit types. any type supported
      "custom": "ðŸŒŸ"
    }
  },
  "log": {
    "count": 15, // print 10 latest records. 10 by default
    "info": "less" // print less
  },
  "tlog": { "count": 20, "info": "more" },
  "hooks": [
    { "name": "pre-commit", "commands": ["echo Pre-commit hook"] }
  ]
}
```

## License and Other

This project is licensed under MIT license. Code mainly generated by Copilot Agent and GPT. Any issues or contributions welcomed!
